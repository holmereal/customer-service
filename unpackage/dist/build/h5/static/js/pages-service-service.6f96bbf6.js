(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-service-service"],{"1e36":function(e,t,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ace4"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("a630"),n("3ca3"),n("fb6a"),n("14d9"),n("99af"),n("c19f");var o=r(n("2909")),a=r(n("c7eb")),i=r(n("1da1")),s=r(n("8643")),c=(r(n("dd42")),{data:function(){return{title:"Hello",wsUrl:"://cc.365-farm.com/visit",websock:null,timeoutObj:void 0,serverTimeoutObj:void 0,lockReconnect:!1,userId:localStorage.getItem("userId")||"",userType:localStorage.getItem("userType")||""}},onLoad:function(){},created:function(){if("undefined"===typeof WebSocket)return console.log("您的浏览器不支持websocket");this.initWebSocket()},methods:{initWebSocket:function(){var e=this;this.connectSocket(),this.websock.onopen=this.websocketonopen(),this.websock.onmessage=function(){var t=(0,i.default)((0,a.default)().mark((function t(n){var r;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("心跳重置"),e.longstart(),t.prev=2,null,n.data instanceof Blob&&(r=new FileReader,r.readAsArrayBuffer(n.data),r.onload=function(t){console.log("websocked收到",r.result),console.log(new Uint8Array(r.result));var n=new Uint8Array(r.result);n=Array.from(n);var o=e.toInt32(n.slice(0,4)),a=e.toInt16(n.slice(4,6));if(console.log("channel:",o),console.log("child:",a),1e4==o&&0==a);else{var i=s.default.lookup("C100001s2c").decode(n.slice(6));console.log("testdata：",i)}}),t.next=10;break;case 7:return t.prev=7,t.t0=t["catch"](2),t.abrupt("return");case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}()},connectSocket:function(){var e="ws";"https:"===location.protocol&&(e="wss");var t;t=e+this.wsUrl,this.websock=new WebSocket(t),this.websock.onerror=this.websocketonerror(),this.websock.onclose=this.websocketclose()},websocketonopen:function(){console.log("已经连通了websocket"),this.longstart()},websocketonerror:function(){console.log("websocket连接断开")},websocketclose:function(e){console.log("断开连接",e),this.lockReconnect&&this.initWebSocket()},longstart:function(){var e=this;clearInterval(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this.timeoutObj=setInterval((function(){var t;console.log("重置监测心跳");var n=e.getInt32Bytes(1e4),r=e.getInt16Bytes(0),a=e.longToByteArray(0),i=e.longToByteArray(0);n=Array.from(n),r=Array.from(r),a=Array.from(a),i=Array.from(i);var s=[];(t=s).push.apply(t,(0,o.default)(n).concat((0,o.default)(r),(0,o.default)(a),(0,o.default)(i))),s=new Uint8Array(s),e.websock.send(s),e.serverTimeoutObj=setTimeout((function(){e.lockReconnect=!0,console.log("后台挂掉，没有心跳了...."),console.log("打印websocket的地址:"+e.websock),e.websock.close()}),2e3)}),15e3)},getUint8Array:function(e,t){var n=new ArrayBuffer(e);return t(new DataView(n)),new Uint8Array(n)},getView:function(e){for(var t=new DataView(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t.setUint8(n,e[n]);return t},getInt16Bytes:function(e){return this.getUint8Array(2,(function(t){t.setInt16(0,e)}))},toInt16:function(e){return this.getView(e).getInt16()},getInt32Bytes:function(e){return this.getUint8Array(4,(function(t){t.setInt32(0,e)}))},toInt32:function(e){return this.getView(e).getInt32()},longToByteArray:function(e){for(var t=[0,0,0,0,0,0,0,0],n=t.length-1;n>=0;n--){var r=255&e;t[n]=r,e=(e-r)/256}return t},byteArrayToLong:function(e){for(var t=0,n=e.length-1;n>=0;n--)t=256*t+e[n];return t},login:function(){var e;console.log("1111");var t=this.getInt32Bytes(1e4),n=this.getInt16Bytes(1),r=this.longToByteArray(this.userId),a=this.longToByteArray(0);t=Array.from(t),n=Array.from(n),r=Array.from(r),a=Array.from(a);var i={identity:this.userType,deviceId:localStorage.getItem("identificationNumber"),token:localStorage.getItem("userToken")},c=s.default.lookup("C100001c2s").create(i);console.log("testobj:",c);var u=s.default.lookup("C100001c2s").encode(c).finish();console.log("testObjBuffer:",u),u=Array.from(u);var l=[];(e=l).push.apply(e,(0,o.default)(t).concat((0,o.default)(n),(0,o.default)(r),(0,o.default)(a),(0,o.default)(u))),l=new Uint8Array(l),this.websock.send(l)}},mounted:function(){},destroyed:function(){this.lockReconnect=!1,this.socketio&&this.socketio.close(),clearInterval(this.timeoutObj),clearTimeout(this.serverTimeoutObj)}});t.default=c},"290d":function(e,t,n){"use strict";n("ac1f"),n("00b4"),e.exports=a;var r,o=/\/|\./;function a(e,t){o.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),a[e]=t}a("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),a("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),a("timestamp",{Timestamp:r}),a("empty",{Empty:{fields:{}}}),a("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),a("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),a("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),a.get=function(e){return a[e]||null}},"2cf7":function(e,t,n){"use strict";var r=e.exports=n("4e53");r.build="full",r.tokenize=n("7bed"),r.parse=n("9b92"),r.common=n("290d"),r.Root._configure(r.Type,r.parse,r.common)},7130:function(e,t,n){"use strict";n.r(t);var r=n("d51b"),o=n("94cd");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("9736");var i=n("f0c5"),s=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"52ce8e34",null,!1,r["a"],void 0);t["default"]=s.exports},"7bed":function(e,t,n){"use strict";n("ac1f"),n("5319"),n("d401"),n("d3b7"),n("25f0"),n("d9e2"),n("1276"),n("498a"),n("00b4"),n("14d9"),n("7a82"),e.exports=p;var r=/[\s{}=;:[\],'"()<>]/g,o=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,a=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,c=/\n/g,u=/\s/,l=/\\(.?)/g,f={0:"\0",r:"\r",n:"\n",t:"\t"};function d(e){return e.replace(l,(function(e,t){switch(t){case"\\":case"":return t;default:return f[t]||""}}))}function p(e,t){e=e.toString();var n=0,l=e.length,f=1,p=0,h={},v=[],w=null;function m(e){return Error("illegal "+e+" (line "+f+")")}function b(t){return e.charAt(t)}function g(n,r,o){var a,u={type:e.charAt(n++),lineEmpty:!1,leading:o};a=t?2:3;var l,d=n-a;do{if(--d<0||"\n"===(l=e.charAt(d))){u.lineEmpty=!0;break}}while(" "===l||"\t"===l);for(var v=e.substring(n,r).split(c),w=0;w<v.length;++w)v[w]=v[w].replace(t?s:i,"").trim();u.text=v.join("\n").trim(),h[f]=u,p=f}function y(t){var n=k(t),r=e.substring(t,n),o=/^\s*\/{1,2}/.test(r);return o}function k(e){var t=e;while(t<l&&"\n"!==b(t))t++;return t}function A(){if(v.length>0)return v.shift();if(w)return function(){var t="'"===w?a:o;t.lastIndex=n-1;var r=t.exec(e);if(!r)throw m("string");return n=t.lastIndex,I(w),w=null,d(r[1])}();var i,s,c,p,h,A=0===n;do{if(n===l)return null;i=!1;while(u.test(c=b(n)))if("\n"===c&&(A=!0,++f),++n===l)return null;if("/"===b(n)){if(++n===l)throw m("comment");if("/"===b(n))if(t){if(p=n,h=!1,y(n)){h=!0;do{if(n=k(n),n===l)break;if(n++,!A)break}while(y(n))}else n=Math.min(l,k(n)+1);h&&(g(p,n,A),A=!0),f++,i=!0}else{h="/"===b(p=n+1);while("\n"!==b(++n))if(n===l)return null;++n,h&&(g(p,n-1,A),A=!0),++f,i=!0}else{if("*"!==(c=b(n)))return"/";p=n+1,h=t||"*"===b(p);do{if("\n"===c&&++f,++n===l)throw m("comment");s=c,c=b(n)}while("*"!==s||"/"!==c);++n,h&&(g(p,n-2,A),A=!0),i=!0}}}while(i);var x=n;r.lastIndex=0;var V=r.test(b(x++));if(!V)while(x<l&&!r.test(b(x)))++x;var _=e.substring(n,n=x);return'"'!==_&&"'"!==_||(w=_),_}function I(e){v.push(e)}function x(){if(!v.length){var e=A();if(null===e)return null;I(e)}return v[0]}return Object.defineProperty({next:A,peek:x,push:I,skip:function(e,t){var n=x(),r=n===e;if(r)return A(),!0;if(!t)throw m("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var n,r=null;return void 0===e?(n=h[f-1],delete h[f-1],n&&(t||"*"===n.type||n.lineEmpty)&&(r=n.leading?n.text:null)):(p<e&&x(),n=h[e],delete h[e],!n||n.lineEmpty||!t&&"/"!==n.type||(r=n.leading?null:n.text)),r}},"line",{get:function(){return f}})}p.unescape=d},"8d3c":function(e,t,n){var r=n("f701");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("4f06").default;o("d93df670",r,!0,{sourceMap:!1,shadowMode:!1})},"94cd":function(e,t,n){"use strict";n.r(t);var r=n("1e36"),o=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},9736:function(e,t,n){"use strict";var r=n("8d3c"),o=n.n(r);o.a},"9b92":function(e,t,n){"use strict";n("14d9"),n("d9e2"),n("d401"),n("ac1f"),n("00b4"),n("e25e"),n("acd8"),n("8a79"),n("2ca0"),n("fb6a"),n("99af"),e.exports=x,x.filename=null,x.defaults={keepCase:!1};var r=n("7bed"),o=n("085a"),a=n("b0fe"),i=n("a3d1"),s=n("9da2"),c=n("7f62"),u=n("6fa2"),l=n("cd8c"),f=n("22b7"),d=n("a7fa"),p=n("0bd4"),h=/^[1-9][0-9]*$/,v=/^-?[1-9][0-9]*$/,w=/^0[x][0-9a-fA-F]+$/,m=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,g=/^-?0[0-7]+$/,y=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,k=/^[a-zA-Z_][a-zA-Z_0-9]*$/,A=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,I=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function x(e,t,n){t instanceof o||(n=t,t=new o),n||(n=x.defaults);var V,_,T,O,B,j=n.preferTrailingComment||!1,S=r(e,n.alternateCommentMode||!1),U=S.next,E=S.push,C=S.peek,N=S.skip,$=S.cmnt,z=!0,F=!1,M=t,L=n.keepCase?function(e){return e}:p.camelCase;function Z(e,t,n){var r=x.filename;return n||(x.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+S.line+")")}function R(){var e,t=[];do{if('"'!==(e=U())&&"'"!==e)throw Z(e);t.push(U()),N(e),e=C()}while('"'===e||"'"===e);return t.join("")}function W(e){var t=U();switch(t){case"'":case'"':return E(t),R();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;"-"===e.charAt(0)&&(n=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return n*parseInt(e,10);if(w.test(e))return n*parseInt(e,16);if(b.test(e))return n*parseInt(e,8);if(y.test(e))return n*parseFloat(e);throw Z(e,"number",t)}(t,!0)}catch(n){if(e&&A.test(t))return t;throw Z(t,"value")}}function D(e,t){var n,r;do{!t||'"'!==(n=C())&&"'"!==n?e.push([r=P(U()),N("to",!0)?P(U()):r]):e.push(R())}while(N(",",!0));N(";")}function P(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw Z(e,"id");if(v.test(e))return parseInt(e,10);if(m.test(e))return parseInt(e,16);if(g.test(e))return parseInt(e,8);throw Z(e,"id")}function q(){if(void 0!==V)throw Z("package");if(V=U(),!A.test(V))throw Z(V,"name");M=M.define(V),N(";")}function J(){var e,t=C();switch(t){case"weak":e=T||(T=[]),U();break;case"public":U();default:e=_||(_=[]);break}t=R(),N(";"),e.push(t)}function H(){if(N("="),O=R(),F="proto3"===O,!F&&"proto2"!==O)throw Z(O,"syntax");N(";")}function K(e,t){switch(t){case"option":return ee(e,t),N(";"),!0;case"message":return G(e,t),!0;case"enum":return Y(e,t),!0;case"service":return function(e,t){if(!k.test(t=U()))throw Z(t,"service name");var n=new l(t);X(n,(function(e){if(!K(n,e)){if("rpc"!==e)throw Z(e);(function(e,t){var n=$(),r=t;if(!k.test(t=U()))throw Z(t,"name");var o,a,i,s,c=t;N("("),N("stream",!0)&&(a=!0);if(!A.test(t=U()))throw Z(t);o=t,N(")"),N("returns"),N("("),N("stream",!0)&&(s=!0);if(!A.test(t=U()))throw Z(t);i=t,N(")");var u=new f(c,r,o,i,a,s);u.comment=n,X(u,(function(e){if("option"!==e)throw Z(e);ee(u,e),N(";")})),e.add(u)})(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!A.test(t=U()))throw Z(t,"reference");var n=t;X(null,(function(t){switch(t){case"required":case"repeated":Q(e,t,n);break;case"optional":Q(e,F?"proto3_optional":"optional",n);break;default:if(!F||!A.test(t))throw Z(t);E(t),Q(e,"optional",n);break}}))}(e,t),!0}return!1}function X(e,t,n){var r=S.line;if(e&&("string"!==typeof e.comment&&(e.comment=$()),e.filename=x.filename),N("{",!0)){var o;while("}"!==(o=U()))t(o);N(";",!0)}else n&&n(),N(";"),e&&("string"!==typeof e.comment||j)&&(e.comment=$(r)||e.comment)}function G(e,t){if(!k.test(t=U()))throw Z(t,"type name");var n=new a(t);X(n,(function(e){if(!K(n,e))switch(e){case"map":(function(e){N("<");var t=U();if(void 0===d.mapKey[t])throw Z(t,"type");N(",");var n=U();if(!A.test(n))throw Z(n,"type");N(">");var r=U();if(!k.test(r))throw Z(r,"name");N("=");var o=new s(L(r),P(U()),t,n);X(o,(function(e){if("option"!==e)throw Z(e);ee(o,e),N(";")}),(function(){re(o)})),e.add(o)})(n);break;case"required":case"repeated":Q(n,e);break;case"optional":Q(n,F?"proto3_optional":"optional");break;case"oneof":(function(e,t){if(!k.test(t=U()))throw Z(t,"name");var n=new c(L(t));X(n,(function(e){"option"===e?(ee(n,e),N(";")):(E(e),Q(n,"optional"))})),e.add(n)})(n,e);break;case"extensions":D(n.extensions||(n.extensions=[]));break;case"reserved":D(n.reserved||(n.reserved=[]),!0);break;default:if(!F||!A.test(e))throw Z(e);E(e),Q(n,"optional");break}})),e.add(n)}function Q(e,t,n){var r=U();if("group"!==r){while(r.endsWith(".")||C().startsWith("."))r+=U();if(!A.test(r))throw Z(r,"type");var o=U();if(!k.test(o))throw Z(o,"name");o=L(o),N("=");var s=new i(o,P(U()),r,t,n);if(X(s,(function(e){if("option"!==e)throw Z(e);ee(s,e),N(";")}),(function(){re(s)})),"proto3_optional"===t){var u=new c("_"+o);s.setOption("proto3_optional",!0),u.add(s),e.add(u)}else e.add(s);F||!s.repeated||void 0===d.packed[r]&&void 0!==d.basic[r]||s.setOption("packed",!1,!0)}else(function(e,t){var n=U();if(!k.test(n))throw Z(n,"name");var r=p.lcFirst(n);n===r&&(n=p.ucFirst(n));N("=");var o=P(U()),s=new a(n);s.group=!0;var c=new i(r,o,n,t);c.filename=x.filename,X(s,(function(e){switch(e){case"option":ee(s,e),N(";");break;case"required":case"repeated":Q(s,e);break;case"optional":Q(s,F?"proto3_optional":"optional");break;case"message":G(s,e);break;case"enum":Y(s,e);break;default:throw Z(e)}})),e.add(s).add(c)})(e,t)}function Y(e,t){if(!k.test(t=U()))throw Z(t,"name");var n=new u(t);X(n,(function(e){switch(e){case"option":ee(n,e),N(";");break;case"reserved":D(n.reserved||(n.reserved=[]),!0);break;default:(function(e,t){if(!k.test(t))throw Z(t,"name");N("=");var n=P(U(),!0),r={options:void 0,setOption:function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t}};X(r,(function(e){if("option"!==e)throw Z(e);ee(r,e),N(";")}),(function(){re(r)})),e.add(t,n,r.comment,r.options)})(n,e)}})),e.add(n)}function ee(e,t){var n=N("(",!0);if(!A.test(t=U()))throw Z(t,"name");var r,o=t,a=o;n&&(N(")"),o="("+o+")",a=o,t=C(),I.test(t)&&(r=t.slice(1),o+=t,U())),N("=");var i=te(e,o);(function(e,t,n,r){e.setParsedOption&&e.setParsedOption(t,n,r)})(e,a,i,r)}function te(e,t){if(N("{",!0)){var n={};while(!N("}",!0)){if(!k.test(B=U()))throw Z(B,"name");var r,o=B;if(N(":",!0),"{"===C())r=te(e,t+"."+B);else if("["===C()){var a;if(r=[],N("[",!0)){do{a=W(!0),r.push(a)}while(N(",",!0));N("]"),"undefined"!==typeof a&&ne(e,t+"."+B,a)}}else r=W(!0),ne(e,t+"."+B,r);var i=n[o];i&&(r=[].concat(i).concat(r)),n[o]=r,N(",",!0),N(";",!0)}return n}var s=W(!0);return ne(e,t,s),s}function ne(e,t,n){e.setOption&&e.setOption(t,n)}function re(e){if(N("[",!0)){do{ee(e,"option")}while(N(",",!0));N("]")}return e}while(null!==(B=U()))switch(B){case"package":if(!z)throw Z(B);q();break;case"import":if(!z)throw Z(B);J();break;case"syntax":if(!z)throw Z(B);H();break;case"option":ee(M,B),N(";");break;default:if(K(M,B)){z=!1;continue}throw Z(B)}return x.filename=null,{package:V,imports:_,weakImports:T,syntax:O,root:t}}},d51b:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-image",{staticClass:"logo",attrs:{src:"/static/logo.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.login()}}}),n("v-uni-view",{staticClass:"text-area"},[n("v-uni-text",{staticClass:"title"},[e._v(e._s(e.title))])],1)],1)},o=[]},dd42:function(e,t,n){"use strict";e.exports=n("2cf7")},f701:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".content[data-v-52ce8e34]{display:flex;flex-direction:column;align-items:center;justify-content:center}.logo[data-v-52ce8e34]{height:%?200?%;width:%?200?%;margin-top:%?200?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%}.text-area[data-v-52ce8e34]{display:flex;justify-content:center}.title[data-v-52ce8e34]{font-size:%?36?%;color:#8f8f94}",""]),e.exports=t}}]);